# Chapter 06. 데이터 전처리

## 목표
데이터를 정리하고 분석하기 적합한 형태로
가공하는 과정을 파악한다.

## 6.1 결측치 처리
📌 주의
- 결측치 처리는 분석 목적에 데이터를 따라 제거 또는 대체해야 함
- 무조건 제거하면 데이터 편향이 생길 수 있음

### 1. 결측치 확인하기
데이터프레임에서 결측치 여부를 확인하거나
결측치의 개수를 확인한다.

- isnull() / isna()
📌 활용
- 결측치를 탐색하여 해당 위치의 값을 True로, 결측치가 아니면 False로 설정
- sum()을 통해 결측치 개수 확인

### 2. 결측치 제거하기
분석 결과가 왜곡되는 것을 방지하기 위해
결측치가 있는 행이나 열을 제거한다.

- dropna()
📌 활용
- axis와 how 매개변수를 통해 결측치 제거 방향과 조건 설정
- thresh 매개변수를 통해 유효한 값의 임계값 지정
📌 주의
- 데이터 손실이 분석에 미치는 영향을 고려한 뒤 적절히 활용

### 3. 결측치 대체하기
결측치를 다른 값으로 대체하여
데이터 손실을 최소화해 분석을 진행한다.

- fillna()

## 6.2 데이터 타입 변환하기
데이터 타입을 확인하고 변환이 필요한지 파악한다.

### 1. 데이터 타입 확인하기
각 열에 저장된 데이터가 어떤 타입인지 확인한다.

- dtypes
- 정수형, 실수형, 문자열 또는 범주형, 날짜 및 시간 데이터

### 2. 데이터 타입 변환하기
데이터를 효율적으로 다루기 위해 적절한 타입으로 변환한다.

- astype() : 원하는 데이터 타입으로 변환
📌 주의
문자열이 포함된 경우 변환 시 오류가 발생할 수 있음
- to_datetime() : 날짜형으로 변환

## 6.3 데이터 재구성하기
분석의 효율을 높이기 위해
데이터를 목적에 맞고 이해하기 쉬운 형태로 변환한다.

### 1. 열 이름 변경하기
열 이름을 직관적이고 통일성 있게 변경하여
코드의 가독성을 높이고 분석 효율을 향상시킨다.

- rename()
📌 활용
- columns 매개변수에 {현재이름 : 새이름} 형태의 딕셔너리를 통해 열 이름 변경

### 2. 새로운 열 만들기
데이터에 새로운 열을 적절히 추가하여
데이터를 효과적으로 분류하고 분석할 수 있다.

### 3. 데이터 정렬하기
특정 열을 기준으로 데이터를 정렬하여
분석에 필요한 순서대로 데이터를 확인하거나 특정 조건에 맞는 데이터를 찾을 수 있다.

- sort_values()
📌 활용
- ascending 매개변수를 통해 정렬 순서 지정

## 6.4 데이터 정제하기
데이터를 분석하기 전에 더 정확하고 일관성 있게 만들기 위해서
오류, 누락값, 중복 데이터 등을 식별하고 수정하거나 제거한다.

### 1. 중복 데이터 처리하기
데이터의 정확성을 높이기 위해 중복 데이터를 제거한다.

- drop_duplicates()

### 2. 이상치 처리하기
데이터의 일반적인 범위에서 크게 벗어나는 값인 이상치는
분석 결과를 왜곡할 수 있다.
이상치는 제거하거나 값을 대체하여 처리한다.

### 3. 문자열 데이터 정제하기
데이터의 일관성을 유지하고, 분석 결과의 신뢰성을 높이기 위해
문자열 데이터를 정제한다.

- str.strip()
- str.replace()
- str.upper() / str.lower()

## 6.5 데이터 병합하기
여러 데이터프레임을 결합해 정보를 통합하고 분석의 정확성을 높이기 위해
데이터를 적절히 변합한다.

### 1. 데이터 연결하기
데이터프레임을 위아래 또는 좌우로 연결할 때 사용한다.

- concat()
📌 활용
- 열이나 인덱스가 일치하지 않아도 연결 가능
- join 매개변수 : outer(모든 데이터 포함), inner(공통데이터만 포함)

### 2. 데이터 병합하기
데이터프레임을 공통 열 또는 인덱스를 기준으로 병합할 때 사용한다.
concat()보다 복잡한 병합이 가능하다.

- merge()
📌 활용
- SQL의 JOIN과 유사한 방식으로 데이터를 결합
- how 매개변수 : inner, outer,
  left(왼쪽의 모든 데이터 포함, 오른쪽은 일치하는 값만), right(오른쪽의 모든 데이터 포함, 왼쪽은 일피하는 값만)

## 헷갈렸던 점
- dropna는 결측치를 제거하고 drop은 특정 열을 제거한다.

## 한 줄 요약
👉 분석 전에 데이터를 정리·정제·재구성해
신뢰도 높은 분석이 가능하도록 만드는 과정
